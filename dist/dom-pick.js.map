{"version":3,"file":"dom-pick.js","sources":["../node_modules/dom-next-element-sibling/dist/bundle.es.js","../node_modules/dom-previous-element-sibling/dist/bundle.es.js","../node_modules/object-assign/index.js","../node_modules/raw-object/dist/bundle.es.js","../src/index.js"],"sourcesContent":["//See https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\nvar nextElementSibling = (function (){\n    if(!(\"nextElementSibling\" in document.documentElement)){\n        return function (element){\n            var e = element.nextSibling;\n            while(e && 1 !== e.nodeType)\n                { e = e.nextSibling; }\n            return e;\n        };\n    }\n\n    return function (element){\n        return element.nextElementSibling;\n    };\n})();\n\nexport default nextElementSibling;\n//# sourceMappingURL=bundle.es.js.map\n","//See https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/previousElementSibling\nvar previousElementSibling = (function (){\n    if(!(\"previousElementSibling\" in document.documentElement)){\n        return function (element){\n            var e = element.previousSibling;\n            while(e && 1 !== e.nodeType)\n                { e = e.previousSibling; }\n            return e;\n        };\n    }\n\n    return function (element){\n        return element.previousElementSibling;\n    };\n})();\n\nexport default previousElementSibling;\n//# sourceMappingURL=bundle.es.js.map\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import objectAssign from 'object-assign';\n\n//Supposedly faster for v8 than just Object.create(null)\nfunction Raw(){}\nRaw.prototype = (function (){\n    //Maybe some old browser has risen from it's grave\n    if(typeof Object.create !== 'function'){\n        var temp = new Object();\n        temp.__proto__ = null;\n        return temp;\n    }\n\n    return Object.create(null);\n})();\n\nfunction rawObject(){\n    var objects = [], len = arguments.length;\n    while ( len-- ) objects[ len ] = arguments[ len ];\n\n    var raw = new Raw();\n    objectAssign.apply(void 0, [ raw ].concat( objects ));\n    return raw;\n}\n\nexport default rawObject;\n//# sourceMappingURL=bundle.es.js.map\n","import nextElementSibling from 'dom-next-element-sibling';\nimport previousElementSibling from 'dom-previous-element-sibling';\nimport rawObject from 'raw-object';\n\nconst directions = rawObject({\n    left(element){\n        let current = previousElementSibling(element);\n        let [rect1, rect2] = getRects(element, current);\n\n        if(isWest(rect1, rect2)){\n            return current;\n        }\n\n        while(current = previousElementSibling(current)){\n            let [rect2] = getRects(current);\n            if(isWest(rect1, rect2)){\n                return current;\n            }\n        }\n\n        /*if(rect2.right <= rect1.left){\n            if(rect2.top <= rect1.top){\n                return current;\n            }\n        }\n\n        while(current = previousElementSibling(current)){\n            let [rect2] = getRects(current);\n            if(rect2.right <= rect1.left){\n                if(rect2.top <= rect1.top){\n                    return current;\n                }\n            }\n        }*/\n    },\n    up(element){\n\n\n        let current = previousElementSibling(element);\n        let [rect1, rect2] = getRects(element, current);\n\n        if(isNorth(rect1, rect2)){\n            return current;\n        }\n\n        while(current = previousElementSibling(current)){\n            let [rect2] = getRects(current);\n            if(isNorth(rect1, rect2)){\n                return current;\n            }\n        }\n    },\n    right(element){\n\n        let current = nextElementSibling(element);\n        let [rect1, rect2] = getRects(element, current);\n\n        if(isEast(rect1, rect2)){\n            return current;\n        }\n\n        while(current = nextElementSibling(current)){\n            let [rect2] = getRects(current);\n            if(isEast(rect1, rect2)){\n                return current;\n            }\n        }\n    },\n    down(element){\n\n        let current = nextElementSibling(element);\n        let [rect1, rect2] = getRects(element, current);\n\n        if(isSouth(rect1, rect2)){\n            return current;\n        }\n\n        while(current = nextElementSibling(current)){\n            let [rect2] = getRects(current);\n            if(isSouth(rect1, rect2)){\n                return current;\n            }\n        }\n    }\n});\n\nexport default function domPick(element, direction, range = 0){\n    return directions[direction](element, range);\n}\n\nfunction getRects(...elements){\n    return elements.map(el=>el.getBoundingClientRect());\n}\n\nfunction isNorth(rect1, rect2){\n    if(rect2.bottom <= rect1.top){\n        return vReachable(rect1, rect2);\n    }\n    return false;\n}\n\nfunction isSouth(rect1, rect2){\n    if(rect2.top >= rect1.bottom){\n        return vReachable(rect1, rect2);\n    }\n    return false;\n}\n\nfunction vReachable(rect1, rect2){\n    return (rect2.left <= rect1.left && rect2.right > rect1.left);\n}\n\nfunction isEast(rect1, rect2){\n    if(rect2.left >= rect1.right){\n        return hReachable(rect1, rect2);\n    }\n    return false;\n}\n\nfunction isWest(rect1, rect2){\n    if(rect2.right <= rect1.left){\n        return hReachable(rect1, rect2);\n    }\n    return false;\n}\n\nfunction hReachable(rect1, rect2){\n    return (rect2.top <= rect1.top && rect2.bottom > rect1.top);\n}\n"],"names":["arguments","const","let","rect2"],"mappings":"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"}