{"version":3,"file":"dom-step.min.js","sources":["../node_modules/object-assign/index.js","../node_modules/raw-object/dist/bundle.es.js","../src/lib/iselement.js","../src/lib/match.js","../src/lib/compass.js","../node_modules/object-keys/isArguments.js","../node_modules/object-keys/index.js","../node_modules/foreach/index.js","../node_modules/define-properties/index.js","../node_modules/is-nan/implementation.js","../node_modules/is-nan/polyfill.js","../node_modules/is-nan/index.js","../node_modules/is-nan/shim.js","../node_modules/dom-next-element-sibling/dist/bundle.es.js","../node_modules/dom-previous-element-sibling/dist/bundle.es.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import objectAssign from 'object-assign';\n\n//Supposedly faster for v8 than just Object.create(null)\nfunction Raw(){}\nRaw.prototype = (function (){\n    //Maybe some old browser has risen from it's grave\n    if(typeof Object.create !== 'function'){\n        var temp = new Object();\n        temp.__proto__ = null;\n        return temp;\n    }\n\n    return Object.create(null);\n})();\n\nfunction rawObject(){\n    var objects = [], len = arguments.length;\n    while ( len-- ) objects[ len ] = arguments[ len ];\n\n    var raw = new Raw();\n    objectAssign.apply(void 0, [ raw ].concat( objects ));\n    return raw;\n}\n\nexport default rawObject;\n//# sourceMappingURL=bundle.es.js.map\n","export default function isElement(input){\n  return (input != null)\n    && (typeof input === 'object')\n    && (input.nodeType === Node.ELEMENT_NODE)\n    && (typeof input.style === 'object')\n    && (typeof input.ownerDocument === 'object');\n}\n","import nextElementSibling from 'dom-next-element-sibling';\nimport previousElementSibling from 'dom-previous-element-sibling';\nimport rawObject from 'raw-object';\n\nconst find = rawObject({\n    next: nextElementSibling,\n    prev: previousElementSibling\n});\n\nexport default function match(isDirection, element, range, traverse){\n    let rect1 = getRect(element);\n    let current = element;\n    let near = find[traverse];\n    while(current = near(current)){\n        let rect2 = getRect(current);\n        if(isDirection(rect1, rect2, range)){\n            return current;\n        }\n    }\n}\n\n//If there are problems with getBoundingClientRect\n//See https://github.com/webmodules/bounding-client-rect\nfunction getRect(e){\n    return e.getBoundingClientRect();\n}\n","export function isWest(rect1, rect2, range){\n    if(rect1.left - rect2.right <= range){\n        return hReachable(rect1, rect2);\n    }\n    return false;\n}\n\nexport function isNorth(rect1, rect2, range){\n    if(rect1.top - rect2.bottom <= range){\n        return vReachable(rect1, rect2);\n    }\n    return false;\n}\n\nexport function isEast(rect1, rect2, range){\n    if(rect2.left - rect1.right <= range){\n        return hReachable(rect1, rect2);\n    }\n    return false;\n}\n\nexport function isSouth(rect1, rect2, range){\n    if(rect2.top - rect1.bottom <= range){\n        return vReachable(rect1, rect2);\n    }\n    return false;\n}\n\n//(h) horizontal\n//(v) vertical\n\nfunction hReachable(rect1, rect2, range){\n    let c = hCenter(rect1);\n    return rect2.bottom > c || rect2.top < c;\n    //return (rect2.top <= rect1.top && rect2.bottom > rect1.top);\n}\n\nfunction vReachable(rect1, rect2){\n    let c = vCenter(rect1);\n    return rect2.right > c || rect2.left < c;\n    //return (rect2.left <= rect1.left && rect2.right > rect1.left);\n}\n\nfunction vCenter(rect){\n    return rect.bottom - rect.top / 2;\n}\n\nfunction hCenter(rect){\n    return rect.right - rect.left / 2;\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar keys = require('object-keys');\nvar foreach = require('foreach');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nvar toStr = Object.prototype.toString;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\tObject.defineProperty(obj, 'x', { enumerable: false, value: obj });\n        /* eslint-disable no-unused-vars, no-restricted-syntax */\n        for (var _ in obj) { return false; }\n        /* eslint-enable no-unused-vars, no-restricted-syntax */\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\tObject.defineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = props.concat(Object.getOwnPropertySymbols(map));\n\t}\n\tforeach(props, function (name) {\n\t\tdefineProperty(object, name, map[name], predicates[name]);\n\t});\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(implementation, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = implementation;\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, { isNaN: function () { return Number.isNaN !== polyfill; } });\n\treturn polyfill;\n};\n","//See https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\nvar nextElementSibling = (function (){\n    if(!(\"nextElementSibling\" in document.documentElement)){\n        return function (element){\n            var e = element.nextSibling;\n            while(e && 1 !== e.nodeType)\n                { e = e.nextSibling; }\n            return e;\n        };\n    }\n\n    return function (element){\n        return element.nextElementSibling;\n    };\n})();\n\nexport default nextElementSibling;\n//# sourceMappingURL=bundle.es.js.map\n","//See https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/previousElementSibling\nvar previousElementSibling = (function (){\n    if(!(\"previousElementSibling\" in document.documentElement)){\n        return function (element){\n            var e = element.previousSibling;\n            while(e && 1 !== e.nodeType)\n                { e = e.previousSibling; }\n            return e;\n        };\n    }\n\n    return function (element){\n        return element.previousElementSibling;\n    };\n})();\n\nexport default previousElementSibling;\n//# sourceMappingURL=bundle.es.js.map\n","import rawObject from 'raw-object';\nimport localNaN from 'is-nan';\nimport isElement from './lib/iselement.js';\nimport match from './lib/match.js';\nimport { isWest, isNorth, isEast, isSouth } from './lib/compass.js';\n\nconst directions = rawObject({\n    left(element, range, traverse = 'prev'){\n        return match(isWest, element, range, traverse);\n    },\n    up(element, range, traverse = 'prev'){\n        return match(isNorth, element, range, traverse);\n    },\n    right(element, range, traverse = 'next'){\n        return match(isEast, element, range, traverse);\n    },\n    down(element, range, traverse = 'next'){\n        return match(isSouth, element, range, traverse);\n    }\n});\n\nexport default function step(element, direction, {\n    range = 1,\n    traverse\n} = {}){\n\n    if(!isElement(element)){\n        throw new TypeError(`element is not a DOM element. Instead element is equal to ${element}.`)\n    }\n\n    if(directions[direction] === void 0){\n        throw new TypeError(`direction should be up, down, left, or right. Instead direction is equal to ${direction}.`);\n    }\n\n    if([undefined, 'next', 'prev'].indexOf(traverse) === -1){\n        throw new TypeError(`options.traverse should be \"next\", \"prev\", or undefined. Instead options.traverse is equal to ${traverse}.`);\n    }\n\n    if(localNaN(range)){\n        throw new TypeError(`options.range should be a number. Instead options.range is equal to ${range}`);\n    }\n\n    return directions[direction](element, range, traverse);\n}\n"],"names":["toObject","val","undefined","TypeError","Object","Raw","rawObject","objects","len","arguments","length","raw","objectAssign","apply","concat","isElement","input","nodeType","Node","ELEMENT_NODE","style","ownerDocument","match","isDirection","element","range","traverse","let","rect1","getRect","current","near","find","e","getBoundingClientRect","isWest","rect2","left","right","hReachable","isNorth","top","bottom","vReachable","isEast","isSouth","c","hCenter","vCenter","rect","getOwnPropertySymbols","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","n","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","s","key","call","create","temp","__proto__","toStr","toString","value","str","isArgs","callee","has","slice","Array","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","constructor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","window","k","equalsConstructorPrototypeIfNotBuggy","keysShim","object","isObject","isFunction","isArguments","isString","theKeys","skipProto","push","j","name","skipConstructor","shim","originalKeys","hasOwn","obj","fn","ctx","l","hasSymbols","Symbol","supportsDescriptors","defineProperty","enumerable","_","x","arePropertyDescriptorsSupported","predicate","configurable","writable","defineProperties","predicates","props","foreach","Number","isNaN","NaN","implementation","define","getPolyfill","polyfill","next","document","documentElement","nextElementSibling","nextSibling","prev","previousElementSibling","previousSibling","directions","up","down","direction","ref","indexOf","localNaN"],"mappings":"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"}