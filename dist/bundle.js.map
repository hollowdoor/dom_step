{"version":3,"file":"bundle.js","sources":["../src/lib/iselement.js","../src/lib/rect.js","../src/lib/is_visible.js","../src/index.js"],"sourcesContent":["export default function isElement(input){\n  return (input != null)\n    && (typeof input === 'object')\n    && (input.nodeType === Node.ELEMENT_NODE)\n    && (typeof input.style === 'object')\n    && (typeof input.ownerDocument === 'object');\n}\n","//If there are problems with getBoundingClientRect\n//See https://github.com/webmodules/bounding-client-rect\nexport function getRect(e){\n    return e.getBoundingClientRect();\n}\n\nexport function height(rect){\n    return rect.bottom - rect.top;\n}\n\nexport function width(rect){\n    return rect.right - rect.left;\n}\n","//Some modules exist for this,\n//but they do runtime exports (not static)\nexport default function isVisible(el){\n    return el.offsetParent !== null\n}\n","import rawObject from 'raw-object';\nimport localNaN from 'is-nan';\nimport isElement from './lib/iselement.js';\nimport has from './lib/has_child.js';\nimport { getRect, height, width } from './lib/rect.js';\nimport isVisible from './lib/is_visible.js';\nimport point from './lib/point.js';\n\nfunction result(directions, el, direction){\n    return isVisible(el)\n    ? el\n    : directions[direction](el);\n}\n\nfunction getSibling(element, x, y){\n    let el = document.elementFromPoint(x, y);\n    let parent = el, i=0, limit = 5;\n    if(!el) return;\n    for(let i=0; i<limit; i++){\n        el = parent;\n        if(!el) return;\n        parent = el.parentNode;\n        if(parent === element.parentNode){\n            return el;\n        }\n    }\n}\n\nconst directions = rawObject({\n    left(element, range, wrap = 0){\n        let rect = getRect(element);\n        let x = rect.left - range,\n            y = rect.top + (height(rect) / 2);\n\n        let el = getSibling(element, x, y);\n        if(el){\n            return result(this, el, 'left');\n        }\n\n        if(wrap){\n            let prect = getRect(element.parentNode);\n            x = prect.right - wrap;\n            let el = getSibling(element, x, y);\n            if(el){\n                return result(this, el, 'left');\n            }\n        }\n    },\n    up(element, range, wrap = 0){\n        let rect = getRect(element);\n        let x = rect.left + (width(rect) / 2),\n            y = rect.top - range;\n\n        let el = getSibling(element, x, y);\n        if(el){\n            return result(this, el, 'up');\n        }\n\n        if(wrap){\n            let prect = getRect(element.parentNode);\n            y = prect.bottom - wrap;\n            let el = getSibling(element, x, y);\n            if(el){\n                return result(this, el, 'up');\n            }\n        }\n    },\n    right(element, range, wrap = 0){\n        let rect = getRect(element);\n        let x = rect.right + range,\n            y = rect.top + (height(rect) / 2);\n\n        let el = getSibling(element, x, y);\n        if(el){\n            return result(this, el, 'right');\n        }\n\n        if(wrap){\n            let prect = getRect(element.parentNode);\n            x = prect.left + wrap;\n\n            let el = getSibling(element, x, y);\n            if(el){\n                return result(this, el, 'right');\n            }\n        }\n    },\n    down(element, range, wrap = 0){\n        let rect = getRect(element);\n        let x = rect.left + (width(rect) / 2),\n            y = rect.bottom + range;\n\n        let el = getSibling(element, x, y);\n        if(el){\n            return result(this, el, 'down');\n        }\n\n        if(wrap){\n            let prect = getRect(element.parentNode);\n            y = prect.top + wrap;\n\n            let el = getSibling(element, x, y);\n            if(el){\n                return result(this, el, 'down');\n            }\n        }\n    }\n});\n\nexport default function step(element, direction, {\n    range = 1,\n    wrap = 0\n} = {}){\n\n    if(!isElement(element)){\n        throw new TypeError(`element is not a DOM element. Instead element is equal to ${element}.`)\n    }\n\n    if(directions[direction] === void 0){\n        throw new TypeError(`direction should be up, down, left, or right. Instead direction is equal to ${direction}.`);\n    }\n\n    if(localNaN(range)){\n        throw new TypeError(`options.range should be a number. Instead options.range is equal to ${range}`);\n    }\n\n    return directions[direction](element, range, wrap);\n}\n"],"names":["let","i","const","el"],"mappings":"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"}