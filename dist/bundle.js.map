{"version":3,"file":"bundle.js","sources":["../src/lib/iselement.js","../src/lib/match.js","../src/lib/compass.js","../src/index.js"],"sourcesContent":["export default function isElement(input){\n  return (input != null)\n    && (typeof input === 'object')\n    && (input.nodeType === Node.ELEMENT_NODE)\n    && (typeof input.style === 'object')\n    && (typeof input.ownerDocument === 'object');\n}\n","import nextElementSibling from 'dom-next-element-sibling';\nimport previousElementSibling from 'dom-previous-element-sibling';\nimport rawObject from 'raw-object';\n\nconst find = rawObject({\n    next: nextElementSibling,\n    prev: previousElementSibling\n});\n\nexport default function match(isDirection, element, range, traverse){\n    let rect1 = getRect(element);\n    let current = element;\n    let near = find[traverse];\n    while(current = near(current)){\n        let rect2 = getRect(current);\n        if(isDirection(rect1, rect2, range)){\n            return current;\n        }\n    }\n}\n\n//If there are problems with getBoundingClientRect\n//See https://github.com/webmodules/bounding-client-rect\nfunction getRect(e){\n    return e.getBoundingClientRect();\n}\n","export function isWest(rect1, rect2, range){\n    if(rect1.left - rect2.right <= range){\n        return hReachable(rect1, rect2);\n    }\n    return false;\n}\n\nexport function isNorth(rect1, rect2, range){\n    if(rect1.top - rect2.bottom <= range){\n        return vReachable(rect1, rect2);\n    }\n    return false;\n}\n\nexport function isEast(rect1, rect2, range){\n    if(rect2.left - rect1.right <= range){\n        return hReachable(rect1, rect2);\n    }\n    return false;\n}\n\nexport function isSouth(rect1, rect2, range){\n    if(rect2.top - rect1.bottom <= range){\n        return vReachable(rect1, rect2);\n    }\n    return false;\n}\n\n//(h) horizontal\n//(v) vertical\n\nfunction hReachable(rect1, rect2, range){\n    let c = hCenter(rect1);\n    return rect2.bottom > c || rect2.top < c;\n    //return (rect2.top <= rect1.top && rect2.bottom > rect1.top);\n}\n\nfunction vReachable(rect1, rect2){\n    let c = vCenter(rect1);\n    return rect2.right > c || rect2.left < c;\n    //return (rect2.left <= rect1.left && rect2.right > rect1.left);\n}\n\nfunction vCenter(rect){\n    return rect.bottom - rect.top / 2;\n}\n\nfunction hCenter(rect){\n    return rect.right - rect.left / 2;\n}\n","import rawObject from 'raw-object';\nimport localNaN from 'is-nan';\nimport isElement from './lib/iselement.js';\nimport match from './lib/match.js';\nimport { isWest, isNorth, isEast, isSouth } from './lib/compass.js';\n\nconst directions = rawObject({\n    left(element, range, traverse = 'prev'){\n        return match(isWest, element, range, traverse);\n    },\n    up(element, range, traverse = 'prev'){\n        return match(isNorth, element, range, traverse);\n    },\n    right(element, range, traverse = 'next'){\n        return match(isEast, element, range, traverse);\n    },\n    down(element, range, traverse = 'next'){\n        return match(isSouth, element, range, traverse);\n    }\n});\n\nexport default function step(element, direction, {\n    range = 1,\n    traverse\n} = {}){\n\n    if(!isElement(element)){\n        throw new TypeError(`element is not a DOM element. Instead element is equal to ${element}.`)\n    }\n\n    if(directions[direction] === void 0){\n        throw new TypeError(`direction should be up, down, left, or right. Instead direction is equal to ${direction}.`);\n    }\n\n    if([undefined, 'next', 'prev'].indexOf(traverse) === -1){\n        throw new TypeError(`options.traverse should be \"next\", \"prev\", or undefined. Instead options.traverse is equal to ${traverse}.`);\n    }\n\n    if(localNaN(range)){\n        throw new TypeError(`options.range should be a number. Instead options.range is equal to ${range}`);\n    }\n\n    return directions[direction](element, range, traverse);\n}\n"],"names":["const","let"],"mappings":"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"}